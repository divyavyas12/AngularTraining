<form [formGroup]="registrationform" class="form-center">
  <mat-card-content>
    <mat-form-field appearance="fill">
      <mat-label>Name</mat-label>

      <input
        matInput
        type="text"
        placeholder="John Doe"
        formControlName="name"
        [pattern]="namepattern"
        [(ngModel)]="user.name"
        id="name"
        name="name"
      />
      <mat-icon matSuffix>person</mat-icon>
      <mat-error *ngIf="registrationform.controls['name'].hasError('pattern')">
        <marquee
          >name must contain only alphabets and space and must be 6 to 32
          characters long
        </marquee>
      </mat-error>

      <mat-error *ngIf="registrationform.controls['name'].hasError('required')">
        name is required
      </mat-error>
    </mat-form-field>
  </mat-card-content>

  <mat-card-content>
    <mat-form-field appearance="fill">
      <mat-label>UserName</mat-label>

      <input
        matInput
        placeholder="john123"
        formControlName="userName"
        [pattern]="usernamepattern"
        [(ngModel)]="user.userName"
        id="userName"
        name="userName"
      />
      <mat-error
        *ngIf="registrationform.controls['userName'].hasError('required')"
      >
        userName is required
      </mat-error>
      <mat-error
        *ngIf="registrationform.controls['userName'].hasError('pattern')"
      >
        <marquee
          >username must contain only alphabets and digits and must be 6 to 20
          characters long
        </marquee>
      </mat-error>
      <mat-icon matSuffix>account_box</mat-icon>
    </mat-form-field>
  </mat-card-content>

  <br />

  <mat-card-content>
    <mat-form-field appearance="fill">
      <mat-label>Email address</mat-label>

      <input
        matInput
        placeholder="johndoe@example.com"
        formControlName="emailId"
        [pattern]="emailpattern"
        [(ngModel)]="user.emailId"
        id="emailId"
        name="emailId"
      />
      <mat-error
        *ngIf="registrationform.controls['emailId'].hasError('required')"
      >
        email id is required
      </mat-error>
      <mat-error
        *ngIf="registrationform.controls['emailId'].hasError('pattern')"
      >
        invalid email format
      </mat-error>
      <mat-icon matSuffix>mail</mat-icon>
    </mat-form-field>
  </mat-card-content>

  <mat-card-content>
    <mat-form-field appearance="fill">
      <mat-label>Enter password</mat-label>

      <input
        matInput
        [type]="hide ? 'password' : 'text'"
        formControlName="password"
        minlength="6"
        maxlength="12"
        id="password"
        name="password"
      />

      <button
        mat-icon-button
        matSuffix
        (click)="hide = !hide"
        [attr.aria-label]="'Hide password'"
        [attr.aria-pressed]="hide"
      >
        <mat-icon>{{ hide ? "visibility_off" : "visibility" }}</mat-icon>
      </button>

      <mat-error></mat-error>
    </mat-form-field>
  </mat-card-content>
  <br />

  <mat-card-content>
    <label id="example-radio-group-label">Gender: </label>

    <br /><br />

    <mat-radio-group aria-label="Select an option">
      <mat-radio-button value="1">Male</mat-radio-button>

      <mat-radio-button class="example-radio-button" value="2"
        >Female</mat-radio-button
      >

      <mat-radio-button class="example-radio-button" value="3"
        >Others</mat-radio-button
      >
    </mat-radio-group>
  </mat-card-content>
  <br /><br />

  <mat-card-content>
    <label id="example-radio-group-label">Date of birth: </label>

    <br /><br />

    <mat-form-field>
      <input
        matInput
        [matDatepicker]="pickeryear"
        placeholder="Choose a date"
      />
      <mat-datepicker-toggle [for]="pickeryear" matSuffix>
      </mat-datepicker-toggle>

      <mat-datepicker #pickeryear startView="year"></mat-datepicker>
    </mat-form-field>
  </mat-card-content>

  <br />
  <mat-card-content>
    <mat-form-field appearance="fill">
      <mat-label>Mobile Number</mat-label>

      <input
        matInput
        placeholder="8877665544"
        formControlName="mobNo"
        required
        [(ngModel)]="user.mobNo"
      />

      <mat-icon matSuffix>phone</mat-icon>

      <div
        style="color: red"
        *ngIf="
          registrationform.controls['mobNo'].touched &&
          registrationform.controls['mobNo'].invalid
        "
      >
        <span *ngIf="registrationform.controls['mobNo'].hasError('required')"
          >mobile number is required</span
        >

        <span *ngIf="registrationform.controls['mobNo'].hasError('pattern')"
          >mobile number pattern is not valid</span
        >
      </div>
    </mat-form-field>
  </mat-card-content>
  <br />

  <mat-card-content>
    <mat-form-field appearance="fill">
      <mat-label>Skills</mat-label>

      <mat-select [(ngModel)]="user.skills">
        <mat-option *ngFor="let skill of skills" [value]="skill.value">
          {{ skill.viewValue }}
        </mat-option>
      </mat-select>
    </mat-form-field>
  </mat-card-content>
  <br />
  <mat-card-content>
    <button mat-raised-button color="accent" (click)="onSubmit(user)">
      Submit
    </button>
  </mat-card-content>
</form>
